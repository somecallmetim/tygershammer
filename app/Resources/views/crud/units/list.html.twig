{% extends'crud/_listTemplate.html.twig' %}

{% block body %}
    <div class="container">
        <nav class="navbar navbar-default">
            <div class="container-fluid">
                <!-- toggle get grouped for better mobile display -->
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#unit-stat-display-navbar" aria-expanded="false">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>

                </div>

                <!-- Collect the nav links, forms, and other content for toggling -->
                <div class="collapse navbar-collapse" id="unit-stat-display-navbar">
                    <ul class="nav navbar-nav">
                        <li class="active"><a href="#">Base Stats<span class="sr-only">(current)</span></a></li>
                        <li><a href="#">Unit Info</a></li>
                        <li><a href="#">Abilities and Spells</a></li>
                        <li><a href="#">Special Rules</a></li>

                        <li class="dropdown">
                            <a id="selectedCategory" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-haspopup="true" aria-expanded="false">Choose Alliance <span class="caret"></span></a>
                            <ul id="js-alliance-dropdown" class="dropdown-menu">
                                <li><a href="#">Order</a></li>
                                <li><a href="#">Chaos</a></li>
                                <li><a href="#">Death</a></li>
                                <li><a href="#">Destruction</a></li>
                            </ul>
                        </li>

                        <li id="js-faction-dropdown-menu-li" class="dropdown" style="display: none">
                            <a id="selectedCategory" href="#" class="dropdown-toggle" data-toggle="dropdown" role="button"
                               aria-haspopup="true" aria-expanded="false">Choose Faction <span class="caret"></span></a>
                            <ul id="js-faction-dropdown" class="dropdown-menu">
                                <li><a href="#">test</a></li>
                                <li><a href="#">test 1</a></li>
                                <li><a href="#">test 2</a></li>
                                <li><a href="#">test 3</a></li>
                            </ul>
                        </li>

                    </ul>
                    <form class="navbar-form navbar-right">
                        <div class="form-group">
                            <input type="text" class="form-control" placeholder="Search">
                        </div>
                        {#<button type="submit" class="btn btn-default">Submit</button>#}
                        <a tabindex="0" class="btn btn-primary" role="button" data-toggle="popover"
                           data-trigger="focus" title="Feature not yet enabled!"
                           data-content="Please check back soon!!! We're always adding new and
                           amazing content">Submit</a>
                    </form>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
    </div>
    <br>
    {{ parent() }}
{% endblock %}

{% block javascripts %}
    {{ parent() }}

    <script>
        $(document).ready(function() {

//            $('#js-faction-dropdown').hide();

            $(".dropdown-menu li a").click(function (e) {
                $(this).parents(".dropdown").find('.dropdown-toggle').html($(this).text() + ' <span class="caret"></span>');
                $(this).parents(".dropdown").find('.dropdown-toggle').val($(this).data('value'));

                var category = $(this).text();

                if($(this).parents('#js-alliance-dropdown').attr('id') && !($('#js-faction-dropdown-menu-li').is(':visible'))){
                    $('#js-faction-dropdown-menu-li').show();
                }
            });
        });
    </script>
    {#<script>#}
        {#$(document).ready(function() {#}
            {#$('.collapse li a').click(function(e) {#}
                {#var $this = $(this);#}
                {#if (!$this.hasClass('active')) {#}
{#//                    window.alert("got here");#}
                    {#$this.parent().siblings().removeClass('active');#}
                    {#$this.parent().addClass('active');#}
                {#}#}
            {#});#}
            {#$(function () {#}
                {#$('[data-toggle="popover"]').popover()#}
            {#})#}
        {#} );#}

    {#</script>#}
{% endblock %}